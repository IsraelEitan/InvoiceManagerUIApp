{"ast":null,"code":"import { PagedResult } from '../../dtos/paged-result.dto';\nimport { AppConfig } from '../../app.config';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/invoice.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../pagination/pagination.component\";\nfunction InvoicesListComponent_div_2_ng_container_1_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\")(14, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function InvoicesListComponent_div_2_ng_container_1_tr_17_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const invoice_r5 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r6.editInvoice(invoice_r5.id));\n    });\n    i0.ɵɵtext(15, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function InvoicesListComponent_div_2_ng_container_1_tr_17_Template_button_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const invoice_r5 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r8.deleteInvoice(invoice_r5.id));\n    });\n    i0.ɵɵtext(17, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const invoice_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(invoice_r5.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 5, invoice_r5.date));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(invoice_r5.status);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(10, 7, invoice_r5.amount));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(invoice_r5.customerId);\n  }\n}\nfunction InvoicesListComponent_div_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"table\")(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"Customer ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"tbody\");\n    i0.ɵɵtemplate(17, InvoicesListComponent_div_2_ng_container_1_tr_17_Template, 18, 9, \"tr\", 4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.pagedResult.data);\n  }\n}\nfunction InvoicesListComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, InvoicesListComponent_div_2_ng_container_1_Template, 18, 1, \"ng-container\", 2);\n    i0.ɵɵelementStart(2, \"app-pagination\", 3);\n    i0.ɵɵlistener(\"pageChanged\", function InvoicesListComponent_div_2_Template_app_pagination_pageChanged_2_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.onPageChange($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    const _r1 = i0.ɵɵreference(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.pagedResult.data && ctx_r0.pagedResult.data.length)(\"ngIfElse\", _r1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"totalItems\", ctx_r0.pagedResult.totalCount)(\"itemsPerPage\", ctx_r0.pageSize)(\"currentPage\", ctx_r0.currentPage);\n  }\n}\nfunction InvoicesListComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"No invoices available.\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class InvoicesListComponent {\n  constructor(invoiceService, router) {\n    this.invoiceService = invoiceService;\n    this.router = router;\n    this.pagedResult = new PagedResult();\n    this.currentPage = 1;\n    this.pageSize = AppConfig.defaultPageSize;\n  }\n  ngOnInit() {\n    this.loadInvoices();\n  }\n  editInvoice(invoiceId) {\n    this.router.navigate(['/invoices/edit', invoiceId]);\n  }\n  deleteInvoice(invoiceId) {\n    const confirmation = confirm('Are you sure you want to delete this invoice?');\n    if (confirmation) {\n      this.invoiceService.deleteInvoice(invoiceId).subscribe({\n        next: () => {\n          alert('Invoice deleted successfully');\n          this.loadInvoices();\n        },\n        error: error => {\n          console.error('Error deleting invoice:', error);\n          alert('Failed to delete invoice');\n        }\n      });\n    }\n  }\n  loadInvoices() {\n    this.invoiceService.getAllInvoices(this.currentPage, this.pageSize).subscribe(result => {\n      this.pagedResult = result;\n    });\n  }\n  onPageChange(newPage) {\n    this.currentPage = newPage;\n    this.loadInvoices();\n  }\n}\nInvoicesListComponent.ɵfac = function InvoicesListComponent_Factory(t) {\n  return new (t || InvoicesListComponent)(i0.ɵɵdirectiveInject(i1.InvoiceService), i0.ɵɵdirectiveInject(i2.Router));\n};\nInvoicesListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: InvoicesListComponent,\n  selectors: [[\"app-invoices-list\"]],\n  decls: 5,\n  vars: 1,\n  consts: [[4, \"ngIf\"], [\"noInvoices\", \"\"], [4, \"ngIf\", \"ngIfElse\"], [3, \"totalItems\", \"itemsPerPage\", \"currentPage\", \"pageChanged\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"]],\n  template: function InvoicesListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"Invoices List\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, InvoicesListComponent_div_2_Template, 3, 5, \"div\", 0);\n      i0.ɵɵtemplate(3, InvoicesListComponent_ng_template_3_Template, 2, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.pagedResult);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.PaginationComponent, i3.CurrencyPipe, i3.DatePipe],\n  styles: [\"table[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  border-collapse: collapse;\\r\\n}\\r\\n\\r\\nth[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\\r\\n  border: 1px solid #ddd;\\r\\n  padding: 8px;\\r\\n}\\r\\n\\r\\nth[_ngcontent-%COMP%] {\\r\\n  background-color: #f4f4f4;\\r\\n}\\r\\n\\r\\ntr[_ngcontent-%COMP%]:nth-child(even) {\\r\\n  background-color: #f9f9f9;\\r\\n}\\r\\n\\r\\n.pagination[_ngcontent-%COMP%] {\\r\\n  margin-top: 20px;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\r\\n  margin: 0 5px;\\r\\n  padding: 5px 10px;\\r\\n  background-color: #007bff;\\r\\n  color: white;\\r\\n  border: none;\\r\\n  border-radius: 4px;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.pagination[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%] {\\r\\n  background-color: #ccc;\\r\\n  cursor: default;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9pbnZvaWNlcy1saXN0L2ludm9pY2VzLWxpc3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFdBQVc7RUFDWCx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxzQkFBc0I7RUFDdEIsWUFBWTtBQUNkOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGFBQWE7RUFDYixpQkFBaUI7RUFDakIseUJBQXlCO0VBQ3pCLFlBQVk7RUFDWixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxzQkFBc0I7RUFDdEIsZUFBZTtBQUNqQiIsInNvdXJjZXNDb250ZW50IjpbInRhYmxlIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xyXG59XHJcblxyXG50aCwgdGQge1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XHJcbiAgcGFkZGluZzogOHB4O1xyXG59XHJcblxyXG50aCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y0ZjRmNDtcclxufVxyXG5cclxudHI6bnRoLWNoaWxkKGV2ZW4pIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmOWY5O1xyXG59XHJcblxyXG4ucGFnaW5hdGlvbiB7XHJcbiAgbWFyZ2luLXRvcDogMjBweDtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5wYWdpbmF0aW9uIGJ1dHRvbiB7XHJcbiAgbWFyZ2luOiAwIDVweDtcclxuICBwYWRkaW5nOiA1cHggMTBweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YmZmO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuLnBhZ2luYXRpb24gYnV0dG9uW2Rpc2FibGVkXSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2NjYztcclxuICBjdXJzb3I6IGRlZmF1bHQ7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["PagedResult","AppConfig","i0","InvoicesListComponent","constructor","invoiceService","router","defaultPageSize","ngOnInit","loadInvoices","editInvoice","invoiceId","navigate","deleteInvoice","confirmation","confirm","subscribe","next","alert","error","console","getAllInvoices","currentPage","pageSize","result","pagedResult","onPageChange","newPage","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Lenovo\\source\\repos\\InvoiceManagerUI\\ClientApp\\src\\app\\components\\invoices-list\\invoices-list.component.ts","C:\\Users\\Lenovo\\source\\repos\\InvoiceManagerUI\\ClientApp\\src\\app\\components\\invoices-list\\invoices-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { InvoiceService } from '../../services/invoice.service';\r\nimport { InvoiceDto } from '../../dtos/invoice.dto';\r\nimport { PagedResult } from '../../dtos/paged-result.dto'; \r\nimport { AppConfig } from '../../app.config';\r\n\r\n@Component({\r\n  selector: 'app-invoices-list',\r\n  templateUrl: './invoices-list.component.html',\r\n  styleUrls: ['./invoices-list.component.css']\r\n})\r\nexport class InvoicesListComponent implements OnInit {\r\n  pagedResult: PagedResult<InvoiceDto> = new PagedResult<InvoiceDto>();\r\n  currentPage: number = 1;\r\n  pageSize: number = AppConfig.defaultPageSize;\r\n\r\n  constructor(private invoiceService: InvoiceService, private router: Router) { }\r\n\r\n  ngOnInit(): void {\r\n    this.loadInvoices();\r\n  }\r\n\r\n  editInvoice(invoiceId: number): void {\r\n    this.router.navigate(['/invoices/edit', invoiceId]);\r\n  }\r\n\r\n  deleteInvoice(invoiceId: number): void {\r\n    const confirmation = confirm('Are you sure you want to delete this invoice?');\r\n    if (confirmation) {\r\n      this.invoiceService.deleteInvoice(invoiceId).subscribe({\r\n        next: () => {\r\n          alert('Invoice deleted successfully');\r\n          this.loadInvoices();\r\n        },\r\n        error: (error) => {\r\n          console.error('Error deleting invoice:', error);\r\n          alert('Failed to delete invoice');\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  loadInvoices(): void {\r\n    this.invoiceService.getAllInvoices(this.currentPage, this.pageSize).subscribe((result: PagedResult<InvoiceDto>) => {\r\n      this.pagedResult = result;\r\n    });\r\n  }\r\n\r\n  onPageChange(newPage: number): void {\r\n    this.currentPage = newPage;\r\n    this.loadInvoices();\r\n  }\r\n}\r\n","<h2>Invoices List</h2>\r\n\r\n<div *ngIf=\"pagedResult\">\r\n  <ng-container *ngIf=\"pagedResult.data && pagedResult.data.length; else noInvoices\">\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>ID</th>\r\n          <th>Date</th>\r\n          <th>Status</th>\r\n          <th>Amount</th>\r\n          <th>Customer ID</th>\r\n          <th>Actions</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let invoice of pagedResult.data\">\r\n          <td>{{ invoice.id }}</td>\r\n          <td>{{ invoice.date | date }}</td>\r\n          <td>{{ invoice.status }}</td>\r\n          <td>{{ invoice.amount | currency }}</td>\r\n          <td>{{ invoice.customerId }}</td>\r\n          <td>\r\n            <button (click)=\"editInvoice(invoice.id)\">Edit</button>\r\n            <button (click)=\"deleteInvoice(invoice.id)\">Delete</button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </ng-container>\r\n  <app-pagination [totalItems]=\"pagedResult.totalCount\"\r\n                  [itemsPerPage]=\"pageSize\"\r\n                  [currentPage]=\"currentPage\"\r\n                  (pageChanged)=\"onPageChange($event)\">\r\n  </app-pagination>\r\n</div>\r\n\r\n\r\n<ng-template #noInvoices>\r\n  <p>No invoices available.</p>\r\n</ng-template>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}